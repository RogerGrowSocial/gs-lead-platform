<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Inloggen | GrowSocial</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/webp" href="/img/favicon-growsocial.webp">
  <link rel="shortcut icon" type="image/webp" href="/img/favicon-growsocial.webp">
  <link rel="apple-touch-icon" href="/img/favicon-growsocial.webp">

  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

  <style>
    :root { --brand:#ea5d0d; --brand-dark:#d35400; --ink:#222; --muted:#6b7280; --line:#e5e7eb; }
    *{ box-sizing:border-box; }
    body { font-family:'Poppins',sans-serif; background:#fff; min-height:100vh; margin:0; display:flex; align-items:center; justify-content:center; }
    .wrap { width:100%; max-width:420px; padding:24px 16px; }
    .card { background:#fff; border:1px solid #f3f4f6; border-radius:20px; box-shadow:0 8px 32px rgba(31,41,55,.10); padding:20px 14px; }
    h1 { font-size:1.25rem; margin:0 0 .15rem; text-align:center; color:var(--ink); }
    .sub { color:var(--muted); font-size:.95rem; text-align:center; margin:0 0 1rem; font-weight:500; }
    .banner { border-radius:8px; padding:.75rem 1rem; margin-bottom:1rem; font-weight:500; }
    .banner--error { color:#dc2626; background:#fff0f0; border:1px solid #fecaca; }
    .banner--ok { color:#166534; background:#ecfdf5; border:1px solid #bbf7d0; }
    .group { margin-bottom:1rem; position:relative; }
    .input { width:100%; height:40px; border:1px solid var(--line); border-radius:10px; padding:0 .75rem 0 2.1rem; font-size:.98rem; color:var(--ink); outline:none; transition:border-color .2s, box-shadow .2s; }
    .input:focus { border-color:var(--brand); box-shadow:0 0 0 2px rgba(234,93,13,.10); }
    .icon { position:absolute; left:.7rem; top:50%; transform:translateY(-50%); color:#bdbdbd; font-size:1rem; pointer-events:none; }
    .btn { width:100%; height:42px; background:var(--brand); color:#fff; font-weight:700; font-size:1rem; border:none; border-radius:10px; box-shadow:0 2px 8px rgba(234,93,13,.10); cursor:pointer; transition:background .2s, box-shadow .2s, transform .2s; display:flex; align-items:center; justify-content:center; gap:.5rem; }
    .btn:hover { background:var(--brand-dark); box-shadow:0 4px 16px rgba(234,93,13,.15); transform:translateY(-1px); }
    .footer { text-align:center; margin-top:1rem; color:var(--muted); font-size:.97rem; }
    .link { color:var(--brand); font-weight:700; text-decoration:none; }
    .link:hover { text-decoration:underline; }
  </style>
</head>
<body>
  <% 
    const err = (typeof error !== 'undefined' && error) ? error : null;
    const ok = (typeof success !== 'undefined' && success) ? success : null;
    const vals = (typeof values !== 'undefined' && values) ? values : {};
    const emailV = vals.email || '';
    const returnToV = (typeof returnTo !== 'undefined' && returnTo) ? returnTo : '/dashboard';
  %>

  <div class="wrap">
    <div class="card">
      <div style="width:48px;height:48px;margin:0 auto 1.1rem;display:flex;align-items:center;justify-content:center;">
        <img src="/img/gs-logo-oranje.jpg" alt="GrowSocial logo" width="120" height="40" style="width:100%;height:100%;object-fit:contain;border-radius:8px;" loading="eager">
      </div>
      <h1>Inloggen</h1>
      <p class="sub">Welkom terug! Log in om verder te gaan.</p>

      <% if (ok) { %><div class="banner banner--ok"><%= ok %></div><% } %>
      <% if (err) { %><div class="banner banner--error"><%= err %></div><% } %>

      <form action="/login" method="POST" autocomplete="on" novalidate>
        <input type="hidden" name="returnTo" value="<%= returnToV %>"/>
        <div class="group">
          <input type="email" name="email" class="input" placeholder="E-mailadres" required autocomplete="email" value="<%= emailV %>"/>
          <span class="icon"><i class="fa-solid fa-envelope"></i></span>
        </div>
        <div class="group">
          <input type="password" name="password" class="input" placeholder="Wachtwoord" required autocomplete="current-password"/>
          <span class="icon"><i class="fa-solid fa-lock"></i></span>
        </div>
        <button type="submit" class="btn">Inloggen <span style="display:inline-block;">â†’</span></button>
      </form>

      <div class="footer" style="margin-top:0.5rem;">
        <a href="/forgot-password" class="link" style="font-size:0.9rem;">Wachtwoord vergeten?</a>
      </div>

      <div class="footer">
        Nog geen account? <a href="/register" class="link">Registreren</a>
      </div>
    </div>
  </div>
</body>
</html>